BUILD.WWW.MK(5)           FreeBSD File Formats Manual          BUILD.WWW.MK(5)

[1mNAME[0m
     [1mbuild.www.mk [22m-- bsdbuild - HTML document preprocessing

[1mSYNOPSIS[0m
     [1m.include <bsd.www.mk>[0m

[1mDESCRIPTION[0m
     The [1mbuild.www.mk [22mmodule is used to generate a set of HTML documents in
     different languages and character set variants from an HTML source file
     and one or more templates using the m4(1) macro processor in conjunction
     with the xsltproc(1) XSLT processor.  The following file types are recog-
     nized:
     [1m+o   [22mCascading style sheets (*.css-in)
     [1m+o   [22mHTML sources (*.htm)
     [1m+o   [22mM4 macro packages (*.m4)

     The following files types are generated by [1mbuild.www.mk[22m:
     [1m+o   [22mCascading style sheets (*.css)
     [1m+o   [22mHTML documents (*.html.<lang>.<charset>)
     [1m+o   [22mVariant information (*.html.var)

[1mTARGETS[0m
     [4m${HTML}[24m         Source from which to generate HTML documents (may include
                     M4 macro calls and use optional XSL transforms).

     [4m${CSS}[24m          Source from which to generate cascading style sheets (may
                     include M4 macro calls).

     [4mclean-www[24m       Clean up the generated files.

     [4mcleandir-www[24m    Clean up for packaging.

     [4minstall-www[24m     Install HTML documents to the target installation direc-
                     tory HTMLDIR, overwriting any existing document if
                     HTML_OVERWRITE is `Yes'.  If HTML_INSTSOURCE is `Yes',
                     all files needed for re-generating the documents are also
                     installed into the target directory (including a Make-
                     file).

     [4mdeinstall-www[24m   Uninstall documents from the installation directory.

[1mVARIABLES[0m
     HTML             Filenames of the HTML documents (*.html extensions).

     M4               Path to the m4(1) macro processor.

     M4FLAGS          Extra flags to pass to m4.

     XSLTPROC         Path to the xsltproc(1) XSLT processor.

     PERL             Path to the perl(1) interpreter.

     ICONV            Path to the iconv(1) utility, needed to generate the
                      character set variants.

     BASEDIR          Directory containing the macro files (Default = "m4").

     XSLDIR           Directory containing XSLT source files (Default =
                      "xsl").  Note that [4mml.xsl[24m is required for multi-lingual
                      support.

     DTD              DTD to specify at the beginning of the generated docu-
                      ment (default to HTML 4.01 Transitional).

     TEMPLATE         Template to use for preprocessing the HTML source.  It
                      must reside in BASEDIR and use the .m4 extension.

     CSS_TEMPLATE     Similarly to TEMPLATE, but used to preprocess CSS
                      source.

     LANGUAGES        Space-separated list of translations available for the
                      documents specified in ${HTML}.  See the section
                      ``MULTI-LINGUAL SUPPORT'' for more details.

     DEF_LANGUAGE     The default language.

     XSL              Space-separated list of XSLT stylesheets to apply to the
                      documents (Default = "ml.xsl").

     CLEANFILES       Extra files to remove in the `clean' target.

     HTMLDIR          Installation directory.  The special value `none' indi-
                      cates that the `install' operation should be a no-op
                      (Default = "none").

     HTML_OVERWRITE   Don't overwrite existing documents in the `install'
                      phase (Default = "No").

     HTML_INSTSOURCE  Install the HTML source, templates, XSLT stylesheets and
                      all other files needed to be able to re-generate the
                      documents in the installation directory, including a
                      Makefile.  (Default = "Yes").

[1mMULTI-LINGUAL SUPPORT[0m
     The LANGUAGES variable specifies a list of languages in which the docu-
     ments specified in HTML are available.  Since the [4mml.xsl[24m XSLT stylesheet
     is applied by default, HTML documents (usually encoded in UTF-8) can con-
     tain multiple translations in a single file.  Language-specific parts are
     separated using the `<ml>' tag, like so:

             <ml lang="en">Hello</ml>
             <ml lang="fr">Bonjour</ml>

[1mSEE ALSO[0m
     build.common.mk(5)

[1mHISTORY[0m
     [1mbuild.www.mk [22mfirst appeared in BSDBuild 1.0.

     BSDBuild is based on the 4.4BSD build system.

FreeBSD 11.0                     July 18, 2007                    FreeBSD 11.0
